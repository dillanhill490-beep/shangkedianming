\# Claude Code Prompt — 课堂点名器（Web 本地版 / 1页应用）



\## 目标

用纯前端（HTML/CSS/JS）实现一个“课堂点名器”网页：可导入学生名单（CSV），开始点名（随机/顺序），对每个学生标记出勤/迟到/缺勤，统计进度，按日期范围导出考勤记录（CSV），可清空记录。要求可直接双击 `index.html` 本地运行。



\## 硬约束

\- 不使用任何后端、不需要部署、不依赖数据库

\- 不引入第三方库（0 依赖）

\- 代码结构清晰：分离 UI / 状态 / 存储 / CSV 解析

\- 数据持久化：使用 `localStorage` 保存名单与记录（刷新不丢）

\- 中文 UI，适配桌面浏览器（Chrome 优先）



\## 页面与交互（必须实现）

\### A. 名单导入区

\- 按钮：`导入 CSV`

\- 提示：显示“成功导入 X 名学生”

\- CSV 格式（至少支持这一种）：

&nbsp; - 1列：`姓名`（可有表头也可无表头）

&nbsp; - 允许空行；自动去重；trim 空格

\- 导入后：生成学生列表到内存与 localStorage



\### B. 点名控制区

\- 按钮：`开始点名` / `停止点名`

\- 模式切换：`随机` / `顺序`

\- 显示统计：`总学生数`、`已点名`、`未点名`

\- 点名过程：

&nbsp; - 开始后，中央显示“当前学生姓名”

&nbsp; - 对当前学生提供三个按钮：`出勤` `迟到` `缺勤`

&nbsp; - 点击任一状态后：

&nbsp;   - 生成一条考勤记录（带时间戳）

&nbsp;   - 自动进入下一个学生（随机模式：从未点名集合随机；顺序模式：按名单顺序推进）

&nbsp; - 当所有学生都已点名：

&nbsp;   - 自动停止或提示“已全部点名完成”



\### C. 记录管理区

\- 日期范围选择（开始/结束日期）

\- 按范围筛选记录并显示条数

\- 按钮：`导出 CSV 记录`

&nbsp; - 导出字段：`日期时间,姓名,状态`

\- 按钮：`清除所有记录`

&nbsp; - 二次确认（防误触）



\### D. 记录展示区（简洁即可）

\- 展示最近 N 条记录（例如 20 条），包含时间、姓名、状态

\- 状态用不同样式标识（出勤/迟到/缺勤）



\## 数据结构（建议）

\- students: string\[]  // 姓名数组

\- rollState:

&nbsp; - mode: 'random' | 'sequential'

&nbsp; - currentIndex: number

&nbsp; - remainingSet: Set<string>  // 随机模式用

&nbsp; - started: boolean

\- records: Array<{ ts: number, name: string, status: '出勤'|'迟到'|'缺勤' }>



\## 文件结构（必须输出这些文件）

\- `index.html`：页面骨架 + 引入脚本/样式

\- `style.css`：干净、现代、响应式

\- `script.js`：全部逻辑



\## 细节要求（请严格遵守）

\- 所有按钮/输入要有禁用态：

&nbsp; - 没有学生名单时禁用“开始点名”

&nbsp; - 未开始点名时禁用“出勤/迟到/缺勤”

\- 导入 CSV 解析要健壮：

&nbsp; - 支持 `\\n`/`\\r\\n`

&nbsp; - 支持含 BOM

&nbsp; - 如果第一行是“姓名”则视为表头跳过

\- 导出 CSV：

&nbsp; - UTF-8 带 BOM（避免中文在 Excel 乱码）

\- 不要输出冗长解释，直接给完整可运行代码



\## 验收标准

1\. 双击 `index.html` 可打开并使用

2\. 导入包含 6 人的 CSV，显示“成功导入 6 名学生”

3\. 开始点名后，能逐个标记状态并自动跳下一个

4\. 刷新页面：名单与记录不丢

5\. 选择日期范围后导出 CSV，Excel 打开中文不乱码

6\. 清除记录后本地存储也清空



\## 交付方式

请直接输出三个文件的完整内容，并用清晰分隔标注文件名，例如：

\- `index.html`

\- `style.css`

\- `script.js`



